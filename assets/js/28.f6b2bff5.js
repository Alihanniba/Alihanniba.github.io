(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{535:function(a,s,t){"use strict";t.r(s);var n=t(6),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[t("img",{attrs:{src:"http://share.alihanniba.com/mac/2021-05-15-041620.jpg",alt:"http://share.alihanniba.com/mac/2021-05-15-041620.jpg"}})]),a._v(" "),t("ul",[t("li",[a._v("题图：pixabay")])]),a._v(" "),t("h2",{attrs:{id:"_0、下载docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0、下载docker"}},[a._v("#")]),a._v(" 0、下载docker")]),a._v(" "),t("div",{staticClass:"language-jsx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-jsx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("https"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("www"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("docker"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("get"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("started"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("https"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("www"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("docker"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("get"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("started"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h2",{attrs:{id:"_1、拉镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、拉镜像"}},[a._v("#")]),a._v(" 1、拉镜像")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker pull golang\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://share.alihanniba.com/mac/2021-05-15-041643.jpg",alt:"http://share.alihanniba.com/mac/2021-05-15-041643.jpg"}})]),a._v(" "),t("p",[a._v("有问题，换源")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#mac")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" ~/.docker\ncode  ~/.docker/daemon.json\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"registry-mirrors"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http://f1361db2.m.daocloud.io"')]),a._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://1nj0zren.mirror.aliyuncs.com"')]),a._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://docker.mirrors.ustc.edu.cn"')]),a._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://registry.docker-cn.com"')]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br")])]),t("p",[a._v("再拉\n"),t("img",{attrs:{src:"http://share.alihanniba.com/mac/2021-05-15-041708.jpg",alt:"http://share.alihanniba.com/mac/2021-05-15-041708.jpg"}})]),a._v(" "),t("h2",{attrs:{id:"_2、启动容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、启动容器"}},[a._v("#")]),a._v(" 2、启动容器")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# --rm 表示用完就删了")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# --name 容器名 后面接golang  表示用golang这个镜像启动容器")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# /bin/bash  打开一个base窗口")]),a._v("\n\ndocker run --rm -it --name go-env golang /bin/bash\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://share.alihanniba.com/mac/2021-05-15-041728.jpg",alt:"http://share.alihanniba.com/mac/2021-05-15-041728.jpg"}})]),a._v(" "),t("h2",{attrs:{id:"_3、写代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、写代码"}},[a._v("#")]),a._v(" 3、写代码")]),a._v(" "),t("p",[t("img",{attrs:{src:"http://share.alihanniba.com/mac/2021-05-15-041755.jpg",alt:"http://share.alihanniba.com/mac/2021-05-15-041755.jpg"}})]),a._v(" "),t("h2",{attrs:{id:"_4、添加docker-compose-yml文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、添加docker-compose-yml文件"}},[a._v("#")]),a._v(" 4、添加docker-compose.yml文件")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("version: "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'3'")]),a._v("\nservices: \n  app: \n    image: golang:latest\n    volumes: \n      - /Users/Alihanniba/alihanniba/github/go-env-test\n    ports:   "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#端口映射 主机:容器。")]),a._v("\n      - "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"8000:8090"')]),a._v("\n    command: go run /alihanniba/github/go-env-test/main.go\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://share.alihanniba.com/mac/2021-05-15-041813.jpg",alt:"http://share.alihanniba.com/mac/2021-05-15-041813.jpg"}})]),a._v(" "),t("h2",{attrs:{id:"_5、启动挂载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5、启动挂载"}},[a._v("#")]),a._v(" 5、启动挂载")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#启动")]),a._v("\ndocker-compose up\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#后台启动")]),a._v("\ndocker-compose up -d\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#修改代码之后要")]),a._v("\ndocker-compose restart\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://share.alihanniba.com/mac/2021-05-15-041831.jpg",alt:"http://share.alihanniba.com/mac/2021-05-15-041831.jpg"}}),a._v(" "),t("img",{attrs:{src:"http://share.alihanniba.com/mac/2021-05-15-041848.jpg",alt:"http://share.alihanniba.com/mac/2021-05-15-041848.jpg"}})]),a._v(" "),t("h2",{attrs:{id:"_6、调试吧"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6、调试吧"}},[a._v("#")]),a._v(" 6、调试吧")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#输入")]),a._v("\nhttp://localhost:8000/\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://share.alihanniba.com/mac/2021-05-15-041905.jpg",alt:"http://share.alihanniba.com/mac/2021-05-15-041905.jpg"}})]),a._v(" "),t("h2",{attrs:{id:"_7、构建专属镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7、构建专属镜像"}},[a._v("#")]),a._v(" 7、构建专属镜像")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#看下当前存在的镜像")]),a._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" -l\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#在镜像里随便添加个文件")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#构建docker file")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" Dockerfile\n\nFROM ubuntu:14.04\n\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://share.alihanniba.com/mac/2021-05-15-041922.jpg",alt:"http://share.alihanniba.com/mac/2021-05-15-041922.jpg"}})]),a._v(" "),t("p",[a._v("执行")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker build -t go-env-test_app_1 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://share.alihanniba.com/mac/2021-05-15-041937.jpg",alt:"http://share.alihanniba.com/mac/2021-05-15-041937.jpg"}})]),a._v(" "),t("p",[a._v("有问题。")]),a._v(" "),t("p",[a._v("这样做就行了。")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" dockerfiles\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" Dockerfile dockerfiles\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" dockerfiles\ndocker build -t go-env-test_app_1 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#推送镜像的规范是：docker push 注册用户名/镜像名")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#修改为规范的镜像：")]),a._v("\ndocker tag go-env-test_app_1 alihanniba/go-env-test_app_1\ndocker push alihanniba/go-env-test_app_1\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://share.alihanniba.com/mac/2021-05-15-041953.jpg",alt:"http://share.alihanniba.com/mac/2021-05-15-041953.jpg"}}),a._v(" "),t("img",{attrs:{src:"http://share.alihanniba.com/mac/2021-05-15-042009.jpg",alt:"http://share.alihanniba.com/mac/2021-05-15-042009.jpg"}})]),a._v(" "),t("p",[a._v("然后如果要用，在Docker Hub上进行搜索pull即可。")]),a._v(" "),t("h2",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[a._v("#")]),a._v(" 参考：")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/qq_36148847/article/details/79427878",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://blog.csdn.net/qq_36148847/article/details/79427878"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("a",{attrs:{href:"https://segmentfault.com/a/1190000013592889",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://segmentfault.com/a/1190000013592889"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/boonya/article/details/74906927",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://blog.csdn.net/boonya/article/details/74906927"),t("OutboundLink")],1)]),a._v(" "),t("h3",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[a._v("#")])]),a._v(" "),t("img",{staticClass:"wechat-num",attrs:{src:"http://share.alihanniba.com/mac/490lq.png"}})])}),[],!1,null,null,null);s.default=e.exports}}]);