<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>【Mysql核心剖析系列】Change Buffer 与 Redo Log 的区别 | 花一个无所</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="野生码农修炼之道">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="keywords" context="Golang,分布式存储,微服务,基础架构,源码剖析,思想觉悟">
    
    <link rel="preload" href="/assets/css/0.styles.9f46b7d8.css" as="style"><link rel="preload" href="/assets/js/app.0ff4b76f.js" as="script"><link rel="preload" href="/assets/js/3.f6859ead.js" as="script"><link rel="preload" href="/assets/js/1.287beeaf.js" as="script"><link rel="preload" href="/assets/js/53.6b982501.js" as="script"><link rel="prefetch" href="/assets/js/10.3a8cd006.js"><link rel="prefetch" href="/assets/js/11.0de1b685.js"><link rel="prefetch" href="/assets/js/12.2df56e7d.js"><link rel="prefetch" href="/assets/js/13.f4d7aa4f.js"><link rel="prefetch" href="/assets/js/14.bab7cf9c.js"><link rel="prefetch" href="/assets/js/15.2e0b7389.js"><link rel="prefetch" href="/assets/js/16.bdea08bd.js"><link rel="prefetch" href="/assets/js/17.e8b7880a.js"><link rel="prefetch" href="/assets/js/18.a6e61905.js"><link rel="prefetch" href="/assets/js/19.646dcf21.js"><link rel="prefetch" href="/assets/js/20.c0d43653.js"><link rel="prefetch" href="/assets/js/21.ea69a169.js"><link rel="prefetch" href="/assets/js/22.73f5c105.js"><link rel="prefetch" href="/assets/js/23.6dffb1bc.js"><link rel="prefetch" href="/assets/js/24.9fb0b8e1.js"><link rel="prefetch" href="/assets/js/25.fe7da032.js"><link rel="prefetch" href="/assets/js/26.0fe78ef8.js"><link rel="prefetch" href="/assets/js/27.3a513799.js"><link rel="prefetch" href="/assets/js/28.f6b2bff5.js"><link rel="prefetch" href="/assets/js/29.05fe4973.js"><link rel="prefetch" href="/assets/js/30.e89616d1.js"><link rel="prefetch" href="/assets/js/31.6cc94781.js"><link rel="prefetch" href="/assets/js/32.a2460322.js"><link rel="prefetch" href="/assets/js/33.15089a8b.js"><link rel="prefetch" href="/assets/js/34.655ac907.js"><link rel="prefetch" href="/assets/js/35.296ab741.js"><link rel="prefetch" href="/assets/js/36.967d83f6.js"><link rel="prefetch" href="/assets/js/37.e69e26ca.js"><link rel="prefetch" href="/assets/js/38.3a615ee9.js"><link rel="prefetch" href="/assets/js/39.852f5733.js"><link rel="prefetch" href="/assets/js/4.037fbdb2.js"><link rel="prefetch" href="/assets/js/40.1cc67299.js"><link rel="prefetch" href="/assets/js/41.6bf800e7.js"><link rel="prefetch" href="/assets/js/42.6424028c.js"><link rel="prefetch" href="/assets/js/43.4e2579df.js"><link rel="prefetch" href="/assets/js/44.e43deb92.js"><link rel="prefetch" href="/assets/js/45.4bdf055e.js"><link rel="prefetch" href="/assets/js/46.c5ecb7d9.js"><link rel="prefetch" href="/assets/js/47.23af1b45.js"><link rel="prefetch" href="/assets/js/48.6923672f.js"><link rel="prefetch" href="/assets/js/49.d214adca.js"><link rel="prefetch" href="/assets/js/5.4a04dec7.js"><link rel="prefetch" href="/assets/js/50.86dcb850.js"><link rel="prefetch" href="/assets/js/51.143286ec.js"><link rel="prefetch" href="/assets/js/52.78e1d202.js"><link rel="prefetch" href="/assets/js/54.e34e1c6f.js"><link rel="prefetch" href="/assets/js/55.89fa3b0f.js"><link rel="prefetch" href="/assets/js/56.9246e191.js"><link rel="prefetch" href="/assets/js/57.65001cb8.js"><link rel="prefetch" href="/assets/js/58.09f9ce8c.js"><link rel="prefetch" href="/assets/js/59.79bd14b1.js"><link rel="prefetch" href="/assets/js/6.e8842f8f.js"><link rel="prefetch" href="/assets/js/60.815ff0ca.js"><link rel="prefetch" href="/assets/js/61.9143b778.js"><link rel="prefetch" href="/assets/js/62.02450d94.js"><link rel="prefetch" href="/assets/js/7.842f9905.js"><link rel="prefetch" href="/assets/js/8.e413ff61.js"><link rel="prefetch" href="/assets/js/9.2997a9ad.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9f46b7d8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-1156296a><div data-v-1156296a><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1156296a data-v-1156296a><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4e82dffc data-v-1156296a data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>花一个无所</h3> <p class="description" data-v-4e82dffc data-v-4e82dffc>野生码农修炼之道</p> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>花一个无所</span>
            
          <span data-v-4e82dffc>2015 - </span>
          2022
        </a></span></div></div> <div class="hide" data-v-1156296a><header class="navbar" data-v-1156296a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="花一个无所" class="logo"> <span class="site-name">花一个无所</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/思想觉悟/" class="nav-link"><i class="undefined"></i>
  思想觉悟
</a></li><li class="dropdown-item"><!----> <a href="/categories/技术随笔/" class="nav-link"><i class="undefined"></i>
  技术随笔
</a></li><li class="dropdown-item"><!----> <a href="/categories/模型图/" class="nav-link"><i class="undefined"></i>
  模型图
</a></li><li class="dropdown-item"><!----> <a href="/categories/网络协议/" class="nav-link"><i class="undefined"></i>
  网络协议
</a></li><li class="dropdown-item"><!----> <a href="/categories/中间件/" class="nav-link"><i class="undefined"></i>
  中间件
</a></li><li class="dropdown-item"><!----> <a href="/categories/周报/" class="nav-link"><i class="undefined"></i>
  周报
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      关于我
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/other/about.html" class="nav-link"><i class="iconfont reco-message"></i>
  关于我
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Alihanniba" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.zhihu.com/people/alihanniba" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-zhihu"></i>
  知乎
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/4283353029676750" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-juejin"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://weibo.com/u/2691586145" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-weibo"></i>
  微博
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="mailto:alihanniba@gmail.com" class="nav-link external"><i class="iconfont reco-mail"></i>
  Gmail
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1156296a></div> <aside class="sidebar" data-v-1156296a><div class="personal-info-wrapper" data-v-828910c6 data-v-1156296a><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-828910c6> <h3 class="name" data-v-828910c6>
    花一个无所
  </h3> <div class="num" data-v-828910c6><div data-v-828910c6><h3 data-v-828910c6>51</h3> <h6 data-v-828910c6>Articles</h6></div> <div data-v-828910c6><h3 data-v-828910c6>40</h3> <h6 data-v-828910c6>Tags</h6></div></div> <ul class="social-links" data-v-828910c6></ul> <hr data-v-828910c6></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/思想觉悟/" class="nav-link"><i class="undefined"></i>
  思想觉悟
</a></li><li class="dropdown-item"><!----> <a href="/categories/技术随笔/" class="nav-link"><i class="undefined"></i>
  技术随笔
</a></li><li class="dropdown-item"><!----> <a href="/categories/模型图/" class="nav-link"><i class="undefined"></i>
  模型图
</a></li><li class="dropdown-item"><!----> <a href="/categories/网络协议/" class="nav-link"><i class="undefined"></i>
  网络协议
</a></li><li class="dropdown-item"><!----> <a href="/categories/中间件/" class="nav-link"><i class="undefined"></i>
  中间件
</a></li><li class="dropdown-item"><!----> <a href="/categories/周报/" class="nav-link"><i class="undefined"></i>
  周报
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      关于我
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/other/about.html" class="nav-link"><i class="iconfont reco-message"></i>
  关于我
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Alihanniba" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.zhihu.com/people/alihanniba" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-zhihu"></i>
  知乎
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/4283353029676750" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-juejin"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://weibo.com/u/2691586145" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-weibo"></i>
  微博
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="mailto:alihanniba@gmail.com" class="nav-link external"><i class="iconfont reco-mail"></i>
  Gmail
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4e82dffc data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>【Mysql核心剖析系列】Change Buffer 与 Redo Log 的区别</h3> <!----> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>花一个无所</span>
            
          <span data-v-4e82dffc>2015 - </span>
          2022
        </a></span></div></div> <div data-v-1156296a><main class="page"><section><div class="page-title"><h1 class="title">【Mysql核心剖析系列】Change Buffer 与 Redo Log 的区别</h1> <div data-v-1ff7123e><i class="iconfont reco-account" data-v-1ff7123e><span data-v-1ff7123e>花一个无所</span></i> <i class="iconfont reco-date" data-v-1ff7123e><span data-v-1ff7123e>9/19/2021</span></i> <i class="iconfont reco-eye" data-v-1ff7123e><span id="/blogs/mysql/02.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-1ff7123e><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-1ff7123e><span class="tag-item" data-v-1ff7123e>Mysql</span></i></div></div> <div class="theme-reco-content content__default"><p><img src="http://share.alihanniba.com/mac/plp92.jpg" alt=""></p> <blockquote><p>题图：pixabay</p></blockquote> <h2 id="_0、先回顾一条语句的写入流程是怎样子的-经过了哪些环节"><a href="#_0、先回顾一条语句的写入流程是怎样子的-经过了哪些环节" class="header-anchor">#</a> 0、先回顾一条语句的写入流程是怎样子的？经过了哪些环节？</h2> <p><img src="http://share.alihanniba.com/mac/eu3iw.png" alt=""></p> <h2 id="_1、为什么要讲-change-buffer-和-redo-log-呢"><a href="#_1、为什么要讲-change-buffer-和-redo-log-呢" class="header-anchor">#</a> 1、为什么要讲 <code>change buffer</code> 和 <code>redo log</code> 呢？</h2> <p>因为我在看这块相关的东西的时候，第一遍和第二遍都会把 <code>change buffer</code> 和 <code>redo log</code> 搞混。 <code>binlog</code> 一般大家都知道是干嘛的，数据同步嘛。 <code>redo log</code> 是干嘛的呢？这是一块内存空间还是磁盘空间？为什么还需要 <code>change buffer</code> ？它是为谁承载的呢？这几个东西在初接触时比较容易头晕。</p> <h2 id="_2、名词解释1-0"><a href="#_2、名词解释1-0" class="header-anchor">#</a> 2、名词解释1.0</h2> <h3 id="_2-1、什么是两阶段提交"><a href="#_2-1、什么是两阶段提交" class="header-anchor">#</a> 2.1、什么是两阶段提交？</h3> <p>我们来看下一条语句执行的细节</p> <p><img src="http://share.alihanniba.com/mac/wiq9b.png" alt="mysql核心剖析系列-两阶段提交"></p> <p>两阶段提交最好的理解就是从字面意思去理解，数据分为两个阶段提交写入。第一次写，第二次确认。</p> <h3 id="_2-2、什么是-redo-log"><a href="#_2-2、什么是-redo-log" class="header-anchor">#</a> 2.2、什么是 <code>redo log</code> ？</h3> <h4 id="_2-2-1、名词解释"><a href="#_2-2-1、名词解释" class="header-anchor">#</a> 2.2.1、名词解释</h4> <p>这里说了。<strong><a href="https://mp.weixin.qq.com/s/xas_fp0gqpVoIuT0JZw3-g" target="_blank" rel="noopener noreferrer">【Mysql核心剖析系列】MVCC是怎么保障一致性视图的？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></p> <h4 id="_2-2-2、特性"><a href="#_2-2-2、特性" class="header-anchor">#</a> 2.2.2、特性</h4> <p><code>redo log</code> 是固定大小的，且是可以设置的，同时是顺序写入模式。有几个关键的配置项：</p> <ul><li><code>innodb_log_buffer_zise</code>。缓冲区大小</li> <li><code>innodb_log_file_in_group</code>。文件组数量</li> <li><code>innodb_log_file_size</code>。文件大小</li></ul> <p><img src="http://share.alihanniba.com/mac/mp79e.png" alt="image-20210902080224041"></p> <p><img src="http://share.alihanniba.com/mac/b1vi5.png" alt="image-20210902080316236"></p> <p><code>redo log</code> 的写入还有一个特征就是环形覆盖。<code>redo log</code> 的容量总是有限的，如果写满了咋办呢？继续往下看</p> <h3 id="_2-3、什么是-redo-log-buffer"><a href="#_2-3、什么是-redo-log-buffer" class="header-anchor">#</a> 2.3、什么是 <code>redo log buffer</code> ？</h3> <p><code>redo log buffer</code> 是承接在 <code>redo log</code> 前面的一块内存缓冲区域。引擎写 <code>redo log</code> 并不会直接写磁盘，而是写 <code>redo log buffer</code>，后期再由 <code>redo log buffer</code> 刷到磁盘。这里的 <code>redo log buffer</code> 是用户空间的缓冲区，写磁盘之前还经过了一层内核缓冲区（<code>os buffer</code>）。写磁盘的流程是这样子的:</p> <p><img src="http://share.alihanniba.com/mac/u8b2h.png" alt="d"></p> <p><strong>为什么这么做？</strong> 还是为了追求1、写速度；2、同步改为了异步。同时写buffer刷磁盘也支持几种策略（通过参数 <code>innodb_flush_log_at_trx_commit</code> 配置）：</p> <ol><li>延迟写，实时刷。固定每秒一次写  <code>os buffer</code>  并同步刷磁盘</li> <li>实时写，实时刷。每次写  <code>redo log buffer</code> 都会 写  <code>os buffer</code> 且同步刷磁盘</li> <li>实时写，延迟刷。每次写  <code>os buffer</code>  并每秒一次刷磁盘</li></ol> <h2 id="_3、为什么要有两阶段提交"><a href="#_3、为什么要有两阶段提交" class="header-anchor">#</a> 3、为什么要有两阶段提交？</h2> <h3 id="_3-1、两阶段提交解决了什么问题"><a href="#_3-1、两阶段提交解决了什么问题" class="header-anchor">#</a> 3.1、两阶段提交解决了什么问题？</h3> <p><strong><code>crash safe</code></strong>。两阶段、三阶段都是为了解决分布式事务中的数据一致性问题，既然是分布式事务，那肯定是分布式的，如果是单体的，那就用不上这玩意儿。比如说我就起一个 mysql 实例，用不上 <code>binlog</code>。 <code>redo log</code> 写一次就可以了。数据库崩溃重启后 仅仅用 <code>redo log</code> 记录来恢复即可。</p> <p>两阶段提交的作用是为了保证 <code>redo log</code> 跟 <code>binlog</code> 数据的一致性（并不是完全一致，会有逻辑判断是往前补还是往后退）。防止数据库崩溃重试恢复过程中的数据不一致。因为主库是用 <code>redo log</code> 来恢复，从库是用 <code>binlog</code> 来同步的。</p> <h3 id="_3-2、redo-log-是怎么保证-crash-safe-的"><a href="#_3-2、redo-log-是怎么保证-crash-safe-的" class="header-anchor">#</a> 3.2、<code>redo log</code> 是怎么保证 <code>crash safe</code> 的？</h3> <h4 id="_3-2-1、redo-log-原理"><a href="#_3-2-1、redo-log-原理" class="header-anchor">#</a> 3.2.1、<code>redo log</code> 原理</h4> <p>执行 <code>show engine innodb status</code> 可以看到 <code>redo log</code> 的信息。</p> <ul><li><code>Log sequence number</code> ：当前 <code>redo log</code> 的最新 <code>LSN</code></li> <li><code>Log flushed up to</code> ：当前已经刷新到磁盘上 <code>redo log</code> 的 <code>LSN</code></li> <li><code>Last checkpoint at</code> ：最后一次检查点的 <code>LSN</code></li></ul> <p><img src="http://share.alihanniba.com/mac/oxq2h.png" alt="image-20210902143232591"></p> <p><img src="http://share.alihanniba.com/mac/it92i.png" alt="mysql核心剖析系列-redo log .png"></p> <p><code>redo log</code> 日志文件默认是两个，可以设置。InnoDB 通过 <code>Log Sequence Number</code> , <code>LSN</code> 来用于记录日志序号，<code>LSN</code> 几乎无处不在。通过它可以定位到日志文件中的位置。</p> <p>上图有两个点哈，因为 <code>redo log</code> 大小是固定的，所以总有写满的时候。那写满了怎么办，总不能直接把数据丢了吧。所有就有了这个类似于环的结构。日志一直写，当写完 <code>ib_logfile1</code> 最后一个坑之后，会继续从 <code>ib_logfile0</code> 的首位开始写。那原来 <code>ib_logfile0</code> 首位的数据是不是得删掉，那么怎么知道要删哪些数据？这就是 <code>checkpoint</code> 要做的事儿。 <code>checkpoint</code> 表示一个临界点，它后面的数据已经不重要了（已经落到库磁盘了），可以随意处置。 <code>redo log</code> 通过这两个点来实现无限续写，但是有个问题：</p> <ol><li>如果 <code>checkpoint</code> 被最新的日志赶上了呢，就是数据还没写到磁盘，可能在 <code>change buffer</code> 里，或者在 <code>buffer pool</code> 里，但还没落盘。这时候如果被覆盖了，奔溃后是没法恢复数据的。所以当 <code>checkpoint</code> 被最新的日志追上的时候，会停下来，推着 <code>checkpoint</code> 继续往前走。</li> <li>可以理解为，如果被赶上了，最新的数据就不允许写了，hang住，先让子弹飞一会儿。</li></ol> <p><code>LSN</code> 另一个作用是在奔溃恢复时会比较 <code>redo log</code> 与 库里数据页的 <code>LSN</code> 点位来修复数据。</p> <h4 id="_3-2-2、根据下面这两张图-举几种case"><a href="#_3-2-2、根据下面这两张图-举几种case" class="header-anchor">#</a> 3.2.2、根据下面这两张图，举几种case：</h4> <p><img src="http://share.alihanniba.com/mac/cuwca.png" alt="mysql核心剖析系列-crash safe.png"></p> <p><img src="http://share.alihanniba.com/mac/j645y.png" alt="mysql核心剖析系列-crash safe 恢复.png"></p> <ol><li>在 <code>step 1</code> 处挂了。 <code>redo log</code> 没有提交， <code>binlog</code> 也没写；事务回滚，对数据没影响</li> <li>在 <code>step 2</code> 处挂了。这里有2种情况：
<ol><li><code>binlog</code> 写了 <code>binlog cache</code> ，还没刷到磁盘； <code>redo log</code> 还没提交。当崩溃恢复时，先判断  <code>redo log</code> 的 <code>pre</code> 标识，再根据 <code>xid</code> 去 <code>binlog</code> 里找，发现没有，回滚事务。</li> <li><code>binlog</code> 已经刷到磁盘； <code>redo log</code> 还没提交。当崩溃恢复时，先判断 <code>redo log</code> 的 <code>pre</code> 标识，再根据 <code>xid</code> 去 <code>binlog</code> 里找，发现存在记录，提交事务。 <code>redo log</code>  commit</li></ol></li> <li>在 <code>step 3</code> 处挂了。这里也有2种情况：
<ol><li><code>binlog</code> 已经刷磁盘； <code>redo log</code>  commit 写了 <code>redo log buffer</code> ，还没刷到磁盘；先判断 <code>redo log</code> 的 <code>pre</code> 标识，再根据 <code>xid</code> 去 <code>binlog</code> 里找，发现存在记录，提交事务。 <code>redo log</code>  commit</li> <li><code>binlog</code>  已经刷磁盘； <code>redo log</code>  刷磁盘。判断 <code>redo log</code>  的 <code>commit</code> 标识；直接提交事务。</li></ol></li></ol> <p>以上的case就是不管在那一层崩溃都能依靠 <code>redo log</code> 来保证主从数据一致性以及客户端感知一致性。但是：</p> <p><strong>当数据写到 buffer pool 之后，刷盘之前挂了咋整？</strong></p> <h3 id="_3-3、持久化"><a href="#_3-3、持久化" class="header-anchor">#</a> 3.3、持久化</h3> <h2 id="_4、名词解释2-0"><a href="#_4、名词解释2-0" class="header-anchor">#</a> 4、名词解释2.0</h2> <h3 id="_4-1、什么是-change-buffer"><a href="#_4-1、什么是-change-buffer" class="header-anchor">#</a> 4.1、什么是 <code>change buffer</code> ？</h3> <p><code>change buffer</code> 是一块缓冲区，存储的就是最新的数据变更。它主要解决的是 <code>随机读磁盘IO</code> 消耗大的问题。为什么是随机读呢？</p> <p>看着文章第二张图讲。如果没有 <code>change buffer</code> ，当有一条更新语句进来对某条数据进行修改时，需要找到这条数据，优先从 <code>buffer pool</code> 中找，不存在则从磁盘获取。将数据页从磁盘读入 <code>buffer pool</code> 涉及随机 IO 访问，这是数据库中成本最高的操作之一。所以有了这么一块缓冲区之后，针对某些写入或修改操作，直接把数据缓存在 <code>change buffer</code> 中。当下次查询的时候再从磁盘读出原始数据，将原始数据和 <code>change buffer</code> 中的改动做 merge 之后返回。省去的是写操作时可能涉及到的磁盘IO操作。</p> <p><code>change buffer</code> 虽然名上是 <code>buffer</code>。但其实它是可以持久化的，它持久化的地方默认是 <code>ibdata1</code>  共享空间表中（看上文件图）。因为为了保证数据的一致性</p> <p><strong>同时， <code>change buffer</code> 也是需要写 <code>redo log</code> 的。所以 <code>redo log</code> 里不仅有针对普通数据页的改动记录，也有 <code>change buffer</code> 的记录。</strong></p> <p>然后说到 <code>change buffer</code> 就不得不说到 <code>buffer pool</code> 。顾名思义，缓冲池。我们在做项目工程的时候，遇到高并发的场景一般都会在db前面加一层 redis 扛一波，防止大量请求直接把 db 打挂，那么 redis 在这里充当了缓冲的作用。 <code>buffer pool</code> 也是类似，server 层的查请求过来会先打在 <code>buffer pool</code> 上，如果 <code>buffer pool</code> 不存在对应的数据才会去查磁盘，否则直接取 <code>buffer pool</code> 中的数据返回了。</p> <p><img src="http://share.alihanniba.com/mac/g0o34.png" alt="mysql核心剖析系列-缓冲.png"></p> <p>那么 <code>change buffer</code> 与 <code>buffer pool</code> 是什么关系呢？</p> <p>如上图。<strong>包含关系</strong></p> <p><code>change buffer</code> 是 <code>buffer pool</code> 里的一块区域</p> <ul><li><code>innodb_change_buffer_max_size</code> 表示 <code>change buffer</code> 最大占 <code>buffer pool</code> 的百分比，默认为 25%</li></ul> <p><img src="http://share.alihanniba.com/mac/095ql.png" alt="image-20210919170911021"></p> <p>下面看一下 执行一条语句在 <code>buffer</code> 这块的细节</p> <p><img src="http://share.alihanniba.com/mac/aw1ne.png" alt="mysql核心剖析系列-缓冲流程.drawio.png"></p> <p>我们来举几种场景：</p> <ol><li>一条简单的更新语句。<code>where name = &quot;花一个无所&quot;</code> <ol><li>判断 <code>buffer pool</code> 中是否存在这条数据</li> <li>若存在则直接更新 <code>buffer pool</code></li> <li>否则 add <code>change buffer</code></li> <li>写 <code>redo log</code></li></ol></li> <li>一条根据唯一健更新的语句。<code>where uniqId = 7</code> <ol><li><p>判断 <code>buffer pool</code>  中是否存在这条数据</p></li> <li><p>若存在则直接更新 <code>buffer pool</code></p></li> <li><p>否则查磁盘</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>如果存在则 load 进 buffer pool
否则返回错误
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>更新 <code>buffer pool</code></p></li> <li><p>写 <code>redo log</code></p></li></ol></li> <li>一条简单的查询语句。<code>select * from name = &quot;花一个无所&quot;</code> <ol><li><p>判断 <code>buffer pool</code> 中是否存在这条数据</p></li> <li><p>如果不存在则查磁盘</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>如果存在则 load 进 buffer pool
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>判断 <code>change buffer</code> 中是否有这条数据</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>如果存在则 merge 进 buffer pool
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>返回 merge 之后的数据</p></li></ol></li></ol> <h2 id="_5、为什么要有-change-buffer"><a href="#_5、为什么要有-change-buffer" class="header-anchor">#</a> 5、为什么要有 <code>change buffer</code>？</h2> <h3 id="_5-1、change-buffer-解决了什么问题"><a href="#_5-1、change-buffer-解决了什么问题" class="header-anchor">#</a> 5.1、<code>change buffer</code> 解决了什么问题？</h3> <p>将数据页从磁盘读入内存中涉及随机 IO 访问，这也是数据库里面成本最高的操作之一，而利用写缓存（ <code>change buffer</code> ）可以减少 IO 操作，从而提升数据库性能。</p> <p><strong>那为啥唯一索引不能利用 <code>change buffer</code> 呢？</strong></p> <p>上面流程里面。唯一索引在做 insert 或者 update 的时候，需要先判断索引记录的唯一性，所以肯定要先拿到最新的记录。即会将磁盘数据页加载到内存，然后判断。所以既然都加载到内存了，那我直接操作内存就好了，就不用搭理 <code>change buffer</code> 了，不然还得 merge 啥的多麻烦。</p> <h3 id="_5-2、-change-buffer-干掉可不可以"><a href="#_5-2、-change-buffer-干掉可不可以" class="header-anchor">#</a> 5.2、 <code>change buffer</code> 干掉可不可以？</h3> <p><code>change buffer</code> 本身就是一个可选项。</p> <ul><li><code>innodb_change_buffering</code> 参数用来控制对哪些操作启用 <code>change buffer</code> 功能，默认是： <code>all</code>。**</li></ul> <p><strong><code>innodb_change_buffering</code> 参数拢共有以下几种选择：</strong></p> <ul><li>all。默认值。开启buffer</li> <li>none。不开启 change buffer</li> <li>inserts。只是开启 buffer insert 操作</li> <li>deletes。只是开启 delete-marking 操作</li> <li>changes。开启 buffer insert 操作和 delete-marking 操作</li> <li>purges。对只是在后台执行的物理删除操作开启 buffer 功能</li></ul> <p>不开启的影响就是回到了随机读。当 <code>buffer pool</code> 中不存在此数据时，写入操作时会先从磁盘读出数据 load 进 <code>buffer pool</code> ，再进行下面的操作。每次都是这样，对逻辑及数据准确性没有影响，只是影响性能。</p> <h3 id="_5-3、持久化"><a href="#_5-3、持久化" class="header-anchor">#</a> 5.3、持久化</h3> <h4 id="_5-3-1、-change-buffer-持久化"><a href="#_5-3-1、-change-buffer-持久化" class="header-anchor">#</a> 5.3.1、 <code>change buffer</code> 持久化</h4> <p><strong><code>change buffer</code> 是用来 更新 非主键/唯一索引的二级索引B+树的。<code>redolog</code> 是保障 <code>crash-safe</code> 的。</strong></p> <p><code>change buffer</code> 为啥要持久化？</p> <p>看看不持久化会有什么影响。</p> <p><code>change buffer</code> 插入时需要写 <code>redo log</code>。当宕机时， <code>change buffer</code> 丢失，<code>redo log</code> 记录了数据的完整修改记录，恢复时根据 <code>redo log</code> 重建 <code>change buffer</code> 。感觉不用持久化也可以啊</p> <p>个人见解：</p> <ul><li><code>change buffer</code> 是有容量限制的。当内存容量用完了落盘来留出空间应对新操作。</li> <li><code>redo log</code> 保证的是原数据的准确性， <code>change buffer</code> 保证的是索引页的准确性。落盘是为了数据的一致性</li></ul> <h4 id="_5-3-2、刷脏页"><a href="#_5-3-2、刷脏页" class="header-anchor">#</a> 5.3.2、刷脏页</h4> <p>什么叫刷脏页？</p> <p>某条数据在内存中存在。这时有一个更新语句过来修改内存 然后返回。此时内存里的数据跟磁盘不一致， 内存中的数据就是脏数据。因为数据记录是以页为单位，就称脏页。</p> <p>将 <code>buffer pool</code> 中的脏数据定期的应用到原数据页得到最新结果的过程称为刷脏页。把磁盘数据读到内存，然后 merge  <code>change buffer</code> 会写磁盘。此时，磁盘和内存里的数据都是新的正确的数据。</p> <p>有哪几种场景会触发刷脏页？</p> <ol><li>查数据时。磁盘存在、 <code>change buffer</code>  存在 且 <code>buffer pool</code> 存在</li> <li>后台定期刷</li> <li>数据库关闭</li></ol> <h2 id="_6、引用"><a href="#_6、引用" class="header-anchor">#</a> 6、引用</h2> <p><a href="https://time.geekbang.org/column/intro/139" target="_blank" rel="noopener noreferrer">极客时间《MySQL实战45讲》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="http://mysql.taobao.org/monthly/" target="_blank" rel="noopener noreferrer">数据库内核月报<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>https://www.modb.pro/db/62466</p> <h3 id=""><a href="#" class="header-anchor">#</a></h3> <img src="http://share.alihanniba.com/mac/490lq.png" class="wechat-num"></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间: </span> <span class="time">10/28/2021, 8:17:10 PM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-70334359><li class="level-2" data-v-70334359><a href="/blogs/mysql/02.html#_0、先回顾一条语句的写入流程是怎样子的-经过了哪些环节" class="sidebar-link reco-side-_0、先回顾一条语句的写入流程是怎样子的-经过了哪些环节" data-v-70334359>0、先回顾一条语句的写入流程是怎样子的？经过了哪些环节？</a></li><li class="level-2" data-v-70334359><a href="/blogs/mysql/02.html#_1、为什么要讲-change-buffer-和-redo-log-呢" class="sidebar-link reco-side-_1、为什么要讲-change-buffer-和-redo-log-呢" data-v-70334359>1、为什么要讲 change buffer 和 redo log 呢？</a></li><li class="level-2" data-v-70334359><a href="/blogs/mysql/02.html#_2、名词解释1-0" class="sidebar-link reco-side-_2、名词解释1-0" data-v-70334359>2、名词解释1.0</a></li><li class="level-3" data-v-70334359><a href="/blogs/mysql/02.html#_2-1、什么是两阶段提交" class="sidebar-link reco-side-_2-1、什么是两阶段提交" data-v-70334359>2.1、什么是两阶段提交？</a></li><li class="level-3" data-v-70334359><a href="/blogs/mysql/02.html#_2-2、什么是-redo-log" class="sidebar-link reco-side-_2-2、什么是-redo-log" data-v-70334359>2.2、什么是 redo log ？</a></li><li class="level-3" data-v-70334359><a href="/blogs/mysql/02.html#_2-3、什么是-redo-log-buffer" class="sidebar-link reco-side-_2-3、什么是-redo-log-buffer" data-v-70334359>2.3、什么是 redo log buffer ？</a></li><li class="level-2" data-v-70334359><a href="/blogs/mysql/02.html#_3、为什么要有两阶段提交" class="sidebar-link reco-side-_3、为什么要有两阶段提交" data-v-70334359>3、为什么要有两阶段提交？</a></li><li class="level-3" data-v-70334359><a href="/blogs/mysql/02.html#_3-1、两阶段提交解决了什么问题" class="sidebar-link reco-side-_3-1、两阶段提交解决了什么问题" data-v-70334359>3.1、两阶段提交解决了什么问题？</a></li><li class="level-3" data-v-70334359><a href="/blogs/mysql/02.html#_3-2、redo-log-是怎么保证-crash-safe-的" class="sidebar-link reco-side-_3-2、redo-log-是怎么保证-crash-safe-的" data-v-70334359>3.2、redo log 是怎么保证 crash safe 的？</a></li><li class="level-3" data-v-70334359><a href="/blogs/mysql/02.html#_3-3、持久化" class="sidebar-link reco-side-_3-3、持久化" data-v-70334359>3.3、持久化</a></li><li class="level-2" data-v-70334359><a href="/blogs/mysql/02.html#_4、名词解释2-0" class="sidebar-link reco-side-_4、名词解释2-0" data-v-70334359>4、名词解释2.0</a></li><li class="level-3" data-v-70334359><a href="/blogs/mysql/02.html#_4-1、什么是-change-buffer" class="sidebar-link reco-side-_4-1、什么是-change-buffer" data-v-70334359>4.1、什么是 change buffer ？</a></li><li class="level-2" data-v-70334359><a href="/blogs/mysql/02.html#_5、为什么要有-change-buffer" class="sidebar-link reco-side-_5、为什么要有-change-buffer" data-v-70334359>5、为什么要有 change buffer？</a></li><li class="level-3" data-v-70334359><a href="/blogs/mysql/02.html#_5-1、change-buffer-解决了什么问题" class="sidebar-link reco-side-_5-1、change-buffer-解决了什么问题" data-v-70334359>5.1、change buffer 解决了什么问题？</a></li><li class="level-3" data-v-70334359><a href="/blogs/mysql/02.html#_5-2、-change-buffer-干掉可不可以" class="sidebar-link reco-side-_5-2、-change-buffer-干掉可不可以" data-v-70334359>5.2、 change buffer 干掉可不可以？</a></li><li class="level-3" data-v-70334359><a href="/blogs/mysql/02.html#_5-3、持久化" class="sidebar-link reco-side-_5-3、持久化" data-v-70334359>5.3、持久化</a></li><li class="level-2" data-v-70334359><a href="/blogs/mysql/02.html#_6、引用" class="sidebar-link reco-side-_6、引用" data-v-70334359>6、引用</a></li><li class="level-3" data-v-70334359><a href="/blogs/mysql/02.html#" class="sidebar-link reco-side-" data-v-70334359></a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----></div></div>
    <script src="/assets/js/app.0ff4b76f.js" defer></script><script src="/assets/js/3.f6859ead.js" defer></script><script src="/assets/js/1.287beeaf.js" defer></script><script src="/assets/js/53.6b982501.js" defer></script>
  </body>
</html>
